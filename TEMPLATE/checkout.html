<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../ASSETS/style.css" />
</head>

<body class="bg-light">
    <div id="header_block">
    </div>
    <div class="bookedDetail" id="bookedDetail">
        <div class="card shadow-sm border-0 rounded">
            <div class="d-flex justify-content-between align-items-center p-3 text-white fw-bold card-head">
                <span>Booking Details</span>
                <button type="button" class="btn-close btn-close-white" aria-label="Close"
                    onclick="document.getElementById('bookedDetail').classList.remove('show')"></button>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-semibold">Bus Name</span>
                        <span id="bus-name" class="booked-bus-name">â€”</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-semibold">From â†’ To</span>
                        <span id="bus-route" class="text-secondary">â€”</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-semibold">Booked Seats</span>
                        <span id="booked-seats" class="badge booked-seat-badge">â€”</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-semibold">Total Price</span>
                        <span id="total-price" class="fw-bold text-success">â€”</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>


    <div class="container p-3 mt-80 checkout-breadcrumb">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-white p-3 rounded shadow-sm">
                <li class="breadcrumb-item checkout-breadcrum-item">
                    <a href="../index.html" class="text-decoration-none">Home</a>
                </li>
                <li class="breadcrumb-item search-buses checkout-breadcrum-item">
                    <a href="#" class="text-decoration-none">Search Buses</a>
                </li>
                <li class="breadcrumb-item checkout-breadcrum-item">
                    <a href="javascript:window.history.back()" class="text-decoration-none">Book Seats</a>
                </li>
                <li class="breadcrumb-item checkout-breadcrum-item active" aria-current="page">Confirm Payment</li>
            </ol>
        </nav>
    </div>




    <div class="progressbar container">
        <div class="progress-step active">
            <div class="circle">1</div>
            <p class="mt-2">Fill Information</p>
        </div>
        <div class="progress-step">
            <div class="circle">2</div>
            <p class="mt-2">Confirm Payment</p>
        </div>
        <div class="progress-step">
            <div class="circle">3</div>
            <p class="mt-2">Receipt</p>
        </div>
    </div>

    <div class="container my-4">
        <div class="checkout-form p-1 rounded shadow-sm">
            <form id="form1" class="active p-4 shadow-sm rounded bg-light">
                <!-- Notice -->
                <div class="alert alert-info d-flex align-items-center mb-4" role="alert">
                    <i class="fas fa-info-circle me-2"></i>
                    <div>
                        Please make sure your <strong>Name</strong> and <strong>Phone Number</strong> are correct
                        before proceeding.
                    </div>
                </div>

                <h4 class="mb-4 fw-bold">Please Fill Your Information</h4>

                <div class="mb-3">
                    <label class="form-label fw-semibold">Name</label>
                    <input type="text" class="form-control p-2" id="nameInput" placeholder="Enter your name" required />
                </div>

                <div class="mb-3">
                    <label class="form-label fw-semibold">Phone Number</label>
                    <input type="tel" class="form-control p-2" id="phoneInput" placeholder="09xxxxxxxxx" required />
                </div>

                <div class="d-flex justify-content-end mt-4">
                    <button type="button" style="background-color: var(--primaryColor); color: #eee"
                        class="btn px-4 rounded-1" onclick="nextStep(1)">
                        Confirm & Pay <i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </form>


            <form id="form2" class="p-4 shadow-sm rounded bg-light">
                <h4 class="mb-4 fw-bold">Choose Payment Method</h4>

                <!-- Notice -->
                <div class="alert alert-info d-flex align-items-center mb-4" role="alert">
                    <i class="fas fa-info-circle me-2"></i>
                    <div>
                        Before proceeding with payment, please check that your <strong>selected seat</strong> is correct
                        and satisfactory. <br>
                        <center><span onclick="document.getElementById('bookedDetail').classList.add('show')"
                                class="fw-bold cursor-pointer">Click to see your booked detail</span></center>
                    </div>
                </div>
                <div class="row g-3">
                    <div class="col-md-3">
                        <div class="payment-card border rounded p-3 text-center cursor-pointer"
                            onclick="selectPayment(this,'kbz')">
                            <img src="../ASSETS/imgs/kpay.png" alt="KBZPay" class="mb-2"
                                style="width: 70px; height: 70px; border-radius: 50%; background-repeat: no-repeat; background-size: contain;" />
                            <h6 class="fw-semibold">KBZPay</h6>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="payment-card border rounded p-3 text-center cursor-pointer"
                            onclick="selectPayment(this,'wave')">
                            <img src="../ASSETS/imgs/wave.png" alt="WavePay" class="mb-2"
                                style="width: 70px; height: 70px; border-radius: 50%;background-repeat: no-repeat; background-size: contain;"" />
                            <h6 class=" fw-semibold">WavePay</h6>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="payment-card border rounded p-3 text-center cursor-pointer"
                            onclick="selectPayment(this,'aya')">
                            <img src="../ASSETS/imgs/a.png" alt="AYAPay" class="mb-2"
                                style="width: 70px; height: 70px; border-radius: 50%;background-repeat: no-repeat; background-size: contain;"" />
                            <h6 class=" fw-semibold">APay</h6>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="payment-card border rounded p-3 text-center cursor-pointer"
                            onclick="selectPayment(this,'cash')">
                            <img src="../ASSETS//imgs/cash.png" alt="cash"
                                style="width: 70px; height: 70px; border-radius: 50%;background-repeat: no-repeat; background-size: contain;"" />
                            <h6 class=" fw-semibold">Cash</h6>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                    <button type="button" class="btn btn-secondary" onclick="prevStep(2)">
                        Back
                    </button>
                    <button type="button" class="btn" style="background-color: var(--primaryColor); color: #eee"
                        id="confirmBtn" disabled onclick="confirmPayment()">
                        Confirm
                    </button>
                </div>
            </form>

            <div class="receipt-voucher p-4 rounded shadow-sm" id="receiptBox">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="fw-bold mb-0">ðŸŽ« Ticket Receipt</h4>
                    <span id="todayDate" class="text-muted small"></span>
                </div>


                <div class="voucher-content">
                    <!-- Bus Info Left Aligned -->
                    <div class="mb-3">
                        <p class="mb-1"><strong>Bus:</strong> <span id="receiptBusName"></span></p>
                        <p class="mb-1"><strong>Booked Date:</strong> <span id="receiptDate"></span></p>
                        <p class="mb-1"><strong>Booked Time:</strong> <span id="receiptTime"></span></p>
                    </div>

                    <hr class="dashed" />

                    <!-- Details -->
                    <div class="row mb-2">
                        <div class="col-6"><strong>From:</strong></div>
                        <div class="col-6 text-end"><span id="receiptFrom"></span></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-6"><strong>To:</strong></div>
                        <div class="col-6 text-end"><span id="receiptTo"></span></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-6"><strong>Passenger:</strong></div>
                        <div class="col-6 text-end"><span id="receiptName"></span></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-6"><strong>Phone:</strong></div>
                        <div class="col-6 text-end"><span id="receiptPhone"></span></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-6"><strong>Seat:</strong></div>
                        <div class="col-6 text-end"><span id="receiptSeats"></span></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-6"><strong>Payment Method:</strong></div>
                        <div class="col-6 text-end"><span id="receiptPaymentMethod"></span></div>
                    </div>
                    <div class="row mb-2 fw-bold">
                        <div class="col-6"><strong>Total Price:</strong></div>
                        <div class="col-6 text-end">MMK <span id="receiptGrandPrice"></span></div>
                    </div>
                </div>

                <hr class="dashed" />

                <!-- Footer -->
                <div class="text-center mt-3">
                    <h5 class="text-success mb-0">
                        Enjoy your Ride! <br />
                        <big>Thank You</big>
                    </h5>
                    <button type="button" class="btn mt-3" onclick="goToHome()">
                        <i class="fas fa-home me-2"></i>Back to Home
                    </button>
                </div>
            </div>

        </div>
    </div>

    <div id="footer_block"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../LAYOUTS/layoutLoading.js"></script>
    <script src="../ASSETS/infra_js/checkout.js"></script>
</body>

</html>